<!DOCTYPE html>
<meta charset="utf-8">
<link rel="stylesheet" type="text/css" href="css/style.css">
<body>
<h1>Les compétences des étudiants</h1>
<h2 id="sltEtu"></h2>
<p id="mailEtu"></p>
<p id="technologie"></p>
<div id='dashboard'>
</div>
<script src="http://d3js.org/d3.v3.min.js"></script>
<script type="text/javascript" src="js/scriptDash.js"></script> >
   
</script>

<script>
    var dataEtu;
   // d3.csv("data/THYP16-17.csv",null, function(error, data) { pour recuperer en local
   d3.csv("php/lecteurFlux.php?url=THYP1617data", null, function(error, data) {
        freqData = [];
        dataEtu = data;
        /*formulaire THYP*/

        var comp = {"médiocre":3,"trop fort":10,"mauvais":2,"connais pas":1,"génie":15};
        data.forEach(function(d){
            var args = {
                State:d["Nom"].substring(0,1).toUpperCase()+" "+d["Prénom"].substring(0,1).toUpperCase()
                ,freq:{
                    PHP:comp[d["Vos compétences : langage informatique [PHP]"]],
                    JS:comp[d["Vos compétences : langage informatique [Javascript]"]],
                    HTML:comp[d["Vos compétences : langage informatique [HTML]"]],
                    CSS:comp[d["Vos compétences : langage informatique [CSS]"]],
                    XML:comp[d["Vos compétences : langage informatique [XML]"]],
                    JSON:comp[d["Vos compétences : langage informatique [JSON]"]],
                    JAVA:comp[d["Vos compétences : langage informatique [JAVA]"]],
                    SQL:comp[d["Vos compétences : langage informatique [SQL]"]],
                    PYTHON:comp[d["Vos compétences : langage informatique [Python]"]],
                    ASP:comp[d["Vos compétences : langage informatique [ASP]"]],
                    JOOMLA:comp[d["Vos compétences : CMS [Joomla]"]],
                    WORDPRESS:comp[d["Vos compétences : CMS [WORPRESS]"]],
                    SPIP:comp[d["Vos compétences : CMS [SPIP]"]],
                    DRUPAL:comp[d["Vos compétences : CMS [Drupal]"]],
                    TYPO3:comp[d["Vos compétences : CMS [Typo 3]"]],
                    PRESTASHOP:comp[d["Vos compétences : CMS [Prestashop]"]],
                    OMEKA:comp[d["Vos compétences : CMS [Omeka]"]],
                    MAGENTO:comp[d["Vos compétences : CMS [Magento]"]],
                    EXOPLATFORME:comp[d["Vos compétences : CMS [Exo plateforme]"]],
                    GIMP:comp[d["Vos compétences : logiciel [GIMP]"]],
                    PHOTOSHOP:comp[d["Vos compétences : logiciel [Photoshop]"]],
                    ILLUSTRATOR:comp[d["Vos compétences : logiciel [Illustrator]"]],
                    INSKAPE:comp[d["Vos compétences : logiciel [Inkscape]"]],
                    ECLIPSE:comp[d["Vos compétences : logiciel [Eclipse]"]],
                    DEAMWEAVER:comp[d["Vos compétences : logiciel [Dreamweaver]"]],
                    OFFFICE:comp[d["Vos compétences : logiciel [Office]"]],
                    DSMAX3:comp[d["Vos compétences : logiciel [3DSMax]"]],
                    VISUAL_STUDIO:comp[d["Vos compétences : logiciel [Visual Studio]"]],
                    GITHUB:comp[d["Vos compétences : logiciel [Github]"]],
                    SVN:comp[d["Vos compétences : logiciel [SVN]"]],
                    NETBEANS:comp[d["Vos compétences : logiciel [Net Beans]"]],
                    SUBLIMTEXT:comp[d["Vos compétences : logiciel [Sublime Text]"]],
                    NOTEPADE:comp[d["Vos compétences : logiciel [Notepad ++]"]],
                    FRANCAIS:comp[d["Langues [Français]"]],
                    ARABE:[d["Langues [Arabe]"]],
                    ESPAGNOL:[d["Langues [Espagnol]"]],
                    ITALIEN:comp[d["Langues [Italien]"]],
                    ANGLAIS:comp[d["Langues [Anglais]"]],
                    ALLEMAND:comp[d["Langues [Allemand]"]],
                    CHINOIS:comp[d["Langues [Chinois]"]],
                    JAPONAIS:comp[d["Langues [Japonais]"]],
                    BICYCLETTE:comp[d["Loisirs [Bicyclette]"]],
                    FOOTBALL:comp[d["Loisirs [Football]"]],


			}
		};
		d.state = d["Nom"].substring(0,1).toUpperCase()+" "+d["Prénom"].substring(0,1).toUpperCase();
		
		//vérification des données
		for(var p in args.freq) {
		   if(args.freq[p] == undefined)args.freq[p]=0;
		}		
		freqData.push(args);		
	});

	
	dashboard('#dashboard',freqData);

});

</script>